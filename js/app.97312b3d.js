(function(){var t={1690:function(t){const i={NODE_ENV:"production",BASE_URL:""}.API_ADDRESS??"https://muniboardapi.herokuapp.com/",n={BaseURL:i};t.exports=n},5212:function(t,i,n){"use strict";var e=n(9242),a=n(3396);const o={id:"app"};function r(t,i,n,e,r,s){const c=(0,a.up)("nav-menu"),u=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a.Wm)(c),(0,a.Wm)(u)])}var s=n(7139);const c=t=>((0,a.dD)("data-v-1c18e194"),t=t(),(0,a.Cn)(),t),u={class:"nav-menu"},l={key:0},p={key:1},d=c((()=>(0,a._)("span",null," > ",-1)));function m(t,i,n,e,o,r){const c=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",u,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.$store.state.breadcrumbs,((i,n)=>((0,a.wg)(),(0,a.iD)("span",{key:n},[t.$store.state.breadcrumbs.length-1===n?((0,a.wg)(),(0,a.iD)("span",l,(0,s.zw)(i.name),1)):((0,a.wg)(),(0,a.iD)("span",p,[(0,a.Wm)(c,{to:i,onClick:t=>r.goToBreadCrumb(i)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(i.name),1)])),_:2},1032,["to","onClick"]),d]))])))),128))])}var w={name:"navigation-menu",watch:{$route(t,i){if("APIDown"===t.name||t.name===i.name)return;const n=this.$store.state.breadcrumbs.findIndex((i=>i.name===t.name));-1===n&&this.$store.commit("addBreadcrumb",t)}},methods:{goToBreadCrumb(t){this.$store.commit("removeBreadcrumb",t),this.$router.push(t)}},mounted(){this.$store.commit("initBreadcrumbs")}},y=n(89);const h=(0,y.Z)(w,[["render",m],["__scopeId","data-v-1c18e194"]]);var b=h,v=n(1690);const f=async()=>{try{return await fetch(v.BaseURL),!0}catch(t){return!1}};var g={name:"App",data:()=>({isAPIUp:!1,crumbs:["Home"]}),components:{"nav-menu":b},async mounted(){this.isAPIUp=await f(),this.isAPIUp||this.$router.push({name:"APIDown"})}};const _=(0,y.Z)(g,[["render",r]]);var P=_,M=n(2483);const C={class:"hello"},k={id:"municipalityCreationContainer",class:"subjectcreation"},D=(0,a._)("label",{for:"newMunicipalityName"},"Name :",-1),T=(0,a.Uk)(),U=(0,a._)("label",{for:"newMunicipalityCoordinates"},"Coordinates : ",-1),L=(0,a.Uk)(),O={id:"newMunicipalityCoordinates"},I=(0,a._)("label",{for:"newMunicipalityWebsite"},"Website : ",-1),z=(0,a.Uk)(),B={class:"subject"},j={class:"subsubject"},S=["href"],N=["onClick"];function $(t,i,n,o,r,c){return(0,a.wg)(),(0,a.iD)(a.HY,null,[t.error?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,s.C_)({color:t.red})},(0,s.zw)(t.error),3)):(0,a.kq)("",!0),(0,a._)("div",C,[(0,a._)("div",k,[(0,a._)("div",null,[D,T,(0,a.wy)((0,a._)("input",{id:"newMunicipalityName",type:"text","onUpdate:modelValue":i[0]||(i[0]=i=>t.newMunicipalityName=i)},null,512),[[e.nr,t.newMunicipalityName]])]),(0,a._)("div",null,[U,L,(0,a._)("div",O,[(0,a.wy)((0,a._)("input",{type:"number","onUpdate:modelValue":i[1]||(i[1]=i=>t.newMunicipalityLat=i)},null,512),[[e.nr,t.newMunicipalityLat]]),(0,a.wy)((0,a._)("input",{type:"number","onUpdate:modelValue":i[2]||(i[2]=i=>t.newMunicipalityLong=i)},null,512),[[e.nr,t.newMunicipalityLong]])])]),(0,a._)("div",null,[I,z,(0,a.wy)((0,a._)("input",{id:"newMunicipalityWebsite",type:"text","onUpdate:modelValue":i[3]||(i[3]=i=>t.newMunicipalityWebsite=i)},null,512),[[e.nr,t.newMunicipalityWebsite]])]),(0,a._)("button",{onClick:i[4]||(i[4]=(...t)=>c.createMunicipality&&c.createMunicipality(...t))}," Create Municipality ")]),(0,a._)("div",B,[(0,a._)("h1",null,(0,s.zw)(t.homeTitle),1),(0,a._)("p",null,(0,s.zw)(t.homeDescription),1)]),(0,a._)("div",j,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.municipalityList,((t,i)=>((0,a.wg)(),(0,a.iD)("div",{id:"municipalityListContainer",key:i,class:"card subsubjectentry"},[(0,a._)("span",null,(0,s.zw)(t.name),1),(0,a._)("span",null,(0,s.zw)(t.coordinates.lat)+" "+(0,s.zw)(t.coordinates.long),1),(0,a._)("a",{href:t.website},(0,s.zw)(t.website),9,S),(0,a._)("button",{onClick:i=>c.GoToMunicipalityPage(t.id)},"View municipality",8,N)])))),128))])])],64)}n(1703);const W=async(t,i="GET",n=v.BaseURL)=>{const e=new Headers;e.append("Content-Type","application/json");const a=await fetch(n,{method:i,headers:e,body:t});if(a.ok)return a.json();throw new Error(a.status)},x=async()=>await W(void 0,"GET",v.BaseURL+"municipality/"),A=async t=>{const i=JSON.stringify(t);return await W(i,"POST",v.BaseURL+"municipality/")},E=async t=>await W(void 0,"GET",v.BaseURL+"municipality/"+t);var R={name:"municipality-list",data:()=>({municipalityList:[],newMunicipalityName:"",newMunicipalityLat:0,newMunicipalityLong:0,newMunicipalityWebsite:"",homeTitle:"Welcome",homeDescription:"Create a municipality or participate in an existing municipality's discussions.",error:void 0}),methods:{resetPage:async function(){this.error=void 0;try{const t=await x();this.municipalityList=t.municipalities}catch(t){this.error=t}},createMunicipality:async function(){let t={name:this.newMunicipalityName,coordinates:{lat:this.newMunicipalityLat,long:this.newMunicipalityLong}};this.newMunicipalityWebsite&&(t={name:this.newMunicipalityName,coordinates:{lat:this.newMunicipalityLat,long:this.newMunicipalityLong},website:this.newMunicipalityWebsite}),this.error=void 0;try{await A(t),await this.resetPage()}catch(i){this.error=i}},GoToMunicipalityPage:async function(t){this.$router.push({name:"Municipality",params:{municipalityId:t}})}},async mounted(){await this.resetPage()}};const G=(0,y.Z)(R,[["render",$]]);var V=G;const H={class:"hello"};function Z(t,i,n,e,o,r){return(0,a.wg)(),(0,a.iD)("div",H,(0,s.zw)(t.msg),1)}var J={name:"api-down",data:()=>({msg:"Oh Oh! Seems like the API is down! Wait a while, maybe it'll come online..."})};const Y=(0,y.Z)(J,[["render",Z]]);var K=Y;const q={class:"hello"},F={id:"postCreationContainer",class:"subjectcreation"},Q=(0,a._)("label",{for:"newPostTitle"},"Title :",-1),X=(0,a.Uk)(),tt=(0,a._)("label",{for:"newPostContent"},"Content : ",-1),it=(0,a.Uk)(),nt={class:"subject"},et={class:"subsubject"},at=["onClick"];function ot(t,i,n,o,r,c){return(0,a.wg)(),(0,a.iD)(a.HY,null,[t.error?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,s.C_)({color:t.red})},(0,s.zw)(t.error),3)):(0,a.kq)("",!0),(0,a._)("div",q,[(0,a._)("div",F,[(0,a._)("div",null,[Q,X,(0,a.wy)((0,a._)("input",{id:"newPostTitle",type:"text","onUpdate:modelValue":i[0]||(i[0]=i=>t.newPostTitle=i)},null,512),[[e.nr,t.newPostTitle]])]),(0,a._)("div",null,[tt,it,(0,a.wy)((0,a._)("input",{id:"newPostContent",type:"text","onUpdate:modelValue":i[1]||(i[1]=i=>t.newPostContent=i)},null,512),[[e.nr,t.newPostContent]])]),(0,a._)("button",{onClick:i[2]||(i[2]=(...t)=>c.createPost&&c.createPost(...t))}," Create Post ")]),(0,a._)("div",nt,[(0,a._)("h1",null,(0,s.zw)(t.municipality.name),1),(0,a._)("h2",null,(0,s.zw)(t.municipality.coordinates.lat)+" "+(0,s.zw)(t.municipality.coordinates.long),1),(0,a._)("h2",null,(0,s.zw)(t.municipality.website),1)]),(0,a._)("div",et,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.posts,((t,i)=>((0,a.wg)(),(0,a.iD)("div",{class:"subsubjectentry",key:i},[(0,a._)("span",null,(0,s.zw)(t.title),1),(0,a._)("span",null,(0,s.zw)(t.content),1),(0,a._)("button",{onClick:i=>c.GoToPostPage(t.id)},"View post",8,at)])))),128))])])],64)}const rt=async t=>await W(void 0,"GET",v.BaseURL+"municipality/"+t+"/post/"),st=async(t,i)=>{const n=JSON.stringify(i);return await W(n,"POST",v.BaseURL+"municipality/"+t+"/post/")},ct=async(t,i)=>await W(void 0,"GET",v.BaseURL+"municipality/"+t+"/post/"+i);var ut={name:"app-municipality",data:()=>({error:void 0,municipality:{id:"",name:"",coordinates:{lat:0,long:0},website:""},posts:[],newPostTitle:"",newPostContent:""}),async mounted(){this.resetPage()},methods:{createPost:async function(){this.error=void 0;try{await st(this.municipality.id,{title:this.newPostTitle,content:this.newPostContent})}catch(t){this.error=t}this.resetPage()},GoToPostPage:async function(t){this.$router.push({name:"Post",params:{municipalityId:this.municipality.id,postId:t}})},resetPage:async function(){this.error=void 0;try{const t=this.$route.params.municipalityId;this.municipality=await E(t);const i=await rt(t);this.posts=await i.posts}catch(t){this.error=t}}}};const lt=(0,y.Z)(ut,[["render",ot]]);var pt=lt;const dt={class:"hello subject"};function mt(t,i,n,e,o,r){return(0,a.wg)(),(0,a.iD)("div",dt,[(0,a._)("h1",null,(0,s.zw)(t.post.title),1),(0,a._)("h2",null,(0,s.zw)(t.post.content),1)])}var wt={name:"app-post",data:()=>({post:{title:"",content:""}}),async mounted(){const t=this.$route.params.postId,i=this.$route.params.municipalityId;this.post=await ct(i,t)}};const yt=(0,y.Z)(wt,[["render",mt]]);var ht=yt;const bt=(0,M.p7)({history:(0,M.PO)(),routes:[{path:"/apidown",name:"APIDown",component:K},{path:"/",name:"Home",component:V},{path:"/municipality/:municipalityId",name:"Municipality",component:pt},{path:"/municipality/:municipalityId/post/:postId",name:"Post",component:ht}]});var vt=bt,ft=n(65);const gt=new ft.ZP.Store({state:{breadcrumbs:[]},mutations:{addBreadcrumb(t,i){t.breadcrumbs.push(i),localStorage.breadcrumbs=JSON.stringify(t.breadcrumbs)},removeBreadcrumb(t,i){const n=t.breadcrumbs.findIndex((t=>t.name===i.name));if(n>=0)while(n<t.breadcrumbs.length)t.breadcrumbs.pop();localStorage.breadcrumbs=JSON.stringify(t.breadcrumbs)},initBreadcrumbs(t){localStorage.breadcrumbs&&(t.breadcrumbs=JSON.parse(localStorage.breadcrumbs))}}});(0,e.ri)(P).use(vt).use(gt).mount("#app")}},i={};function n(e){var a=i[e];if(void 0!==a)return a.exports;var o=i[e]={exports:{}};return t[e](o,o.exports,n),o.exports}n.m=t,function(){var t=[];n.O=function(i,e,a,o){if(!e){var r=1/0;for(l=0;l<t.length;l++){e=t[l][0],a=t[l][1],o=t[l][2];for(var s=!0,c=0;c<e.length;c++)(!1&o||r>=o)&&Object.keys(n.O).every((function(t){return n.O[t](e[c])}))?e.splice(c--,1):(s=!1,o<r&&(r=o));if(s){t.splice(l--,1);var u=a();void 0!==u&&(i=u)}}return i}o=o||0;for(var l=t.length;l>0&&t[l-1][2]>o;l--)t[l]=t[l-1];t[l]=[e,a,o]}}(),function(){n.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(i,{a:i}),i}}(),function(){n.d=function(t,i){for(var e in i)n.o(i,e)&&!n.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:i[e]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)}}(),function(){var t={143:0};n.O.j=function(i){return 0===t[i]};var i=function(i,e){var a,o,r=e[0],s=e[1],c=e[2],u=0;if(r.some((function(i){return 0!==t[i]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(c)var l=c(n)}for(i&&i(e);u<r.length;u++)o=r[u],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(l)},e=self["webpackChunkvue_app"]=self["webpackChunkvue_app"]||[];e.forEach(i.bind(null,0)),e.push=i.bind(null,e.push.bind(e))}();var e=n.O(void 0,[998],(function(){return n(5212)}));e=n.O(e)})();
//# sourceMappingURL=app.97312b3d.js.map